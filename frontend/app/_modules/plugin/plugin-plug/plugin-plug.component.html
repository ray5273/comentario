<!-- Custom element container -->
<div #elementHost [appSpinner]="!pluginAvailable && !pluginError" spinnerSize="lg"></div>

<!-- Load error, if any -->
@if (pluginError; as err) {
    <div class="container p-4 alert alert-danger" role="alert">
        <!-- Heading -->
        <div class="alert-heading lead fw-bold" i18n>Plugin error</div>

        <!-- Error details -->
        <div i18n>Failed to load plugin <code>{{ pluginConfig()?.id }}</code>.</div>

        <!-- Technical details -->
        <div class="small">
            <button (click)="showErrorDetails = !showErrorDetails" [class.active]="showErrorDetails"
                    [attr.aria-expanded]="showErrorDetails" class="btn btn-link btn-sm" i18n>Technical details</button>
            @if (showErrorDetails) {
                <div @fadeInOut-fast>
                    <code><pre>{{ err | json }}</pre></code>
                </div>
            }
        </div>
    </div>
}
